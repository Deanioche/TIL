# 시간 구현

## # Use it for Java

```Java
new Handler(Looper.getMainLooper()).postDelayed(new Runnable() {
    @Override
    public void run() {
        // Your Code
    }
}, 3000);
```

## # Use it for Kotlin

```Kotlin
Handler(Looper.getMainLooper()).postDelayed({
    // Your Code
}, 3000)
```

## # Time Basic

```kotlin
println("${Date()}") // Sat Apr 24 10:16:11 GMT+00:00 2021
println("${Date().time}") // 1619259371783
println("${System.currentTimeMillis()}") // 1619259371783


val sdf = SimpleDateFormat("yyyy/MM/dd HH/mm/ss.SSS")

// 한국시간으로 설정
sdf.timeZone = TimeZone.getTimeZone("Asia/Seoul")

sdf.format(Date() :                      2021/04/24 11/08/09.210
sdf.format(Date().time :                 2021/04/24 11/08/09.210
sdf.format(System.currentTimeMillis()) : 2021/04/24 11/08/09.211

Calendar.getInstance() :
// java.util.GregorianCalendar[time=1619264853838,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=java.util.SimpleTimeZone[id=GMT,offset=0,dstSavings=3600000,useDaylight=false,startYear=0,startMode=0,startMonth=0,startDay=0,startDayOfWeek=0,startTime=0,startTimeMode=0,endMode=0,endMonth=0,endDay=0,endDayOfWeek=0,endTime=0,endTimeMode=0],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2021,MONTH=3,WEEK_OF_YEAR=17,WEEK_OF_MONTH=4,DAY_OF_MONTH=24,DAY_OF_YEAR=114,DAY_OF_WEEK=7,DAY_OF_WEEK_IN_MONTH=4,AM_PM=0,HOUR=11,HOUR_OF_DAY=11,MINUTE=47,SECOND=33,MILLISECOND=838,ZONE_OFFSET=0,DST_OFFSET=0]

Calendar.getInstance().time // Sat Apr 24 11:48:40 GMT+00:00 2021

// Date().time과 System.currentTimeMillis()의 결과는 같음.

```
## # 변환식
<table>
<tr>
<td>Date and Time Pattern</td>	<td>Result</td>
</tr>
<tr>
<td>"yyyy.MM.dd G 'at' HH:mm:ss z"</td>	<td>2001.07.04 AD at 12:08:56 PDT</td>
</tr>
<tr>
<td>"EEE, MMM d, ''yy"</td>	<td>Wed, Jul 4, '01</td>
</tr>
<tr>
<td>"h:mm a"</td>	<td>12:08 PM</td>
</tr>
<tr>
<td>"hh 'o''clock' a, zzzz"</td>	<td>12 o'clock PM, Pacific Daylight Time</td>
</tr>
<tr>
<td>"K:mm a, z"</td>	<td>0:08 PM, PDT</td>
</tr>
<tr>
<td>"yyyyy.MMMM.dd GGG hh:mm aaa"</td>	<td>02001.July.04 AD 12:08 PM</td>
</tr>
<tr>
<td>"EEE, d MMM yyyy HH:mm:ss Z"</td>	<td>Wed, 4 Jul 2001 12:08:56 -0700</td>
</tr>
<tr>
<td>"yyMddHHmmssZ"</td>	<td>010704120856-0700</td>
</tr>
<tr>
<td>"yyyy-MM-dd'T'HH:mm:ss.SSSZ"</td>	<td>2001-07-04T12:08:56.235-0700</td>
</tr>
<tr>
<td>"yyyy-MM-dd'T'HH:mm:ss.SSSXXX"</td>	<td>2001-07-04T12:08:56.235-07:00</td>
</tr>
<tr>
<td>"YYYY-'W'ww-u"</td>	<td>2001-W27-3</td>
</tr>
</table>

## # Time running

```kotlin

val sdf = SimpleDateFormat("yyyy/MM/dd HH/mm/ss.SS")

val handler = Handler()
val run = object : Runnable {
    override fun run() {

        findViewById<TextView>(R.id.todayDate).setText(sdf.format(Date()))
        handler.postDelayed(this, 10)
    }
}

handler.post(run)
```

## # SimpleStringFormat

```kotlin
// DatePicker로 날짜 선택 후 DateFormat으로 맞추기

 DatePickerDialog(
        this,
        DatePickerDialog.OnDateSetListener { v, selectedYear, selectedMonth, selectedDayOfMonth ->

            val selectedDate = "$selectedYear/$selectedMonth/$selectedDayOfMonth"
            findViewById<TextView>(R.id.btnDatePicker).setText("$selectedDate 0:00:00") // 버튼 텍스트를 생일날짜로

//            val today = Calendar.getInstance()
//            val sdf = SimpleDateFormat("yyyy/MM/dd", Locale.KOREA) // 포멧에 맞게 바꿔줌

            val sdf = SimpleDateFormat("yyyy/MM/dd HH:mm:ss.SS")
            sdf.timeZone = TimeZone.getTimeZone("Asia/Seoul")
            println("YEAR : " + (Date().time - sdf.parse("$selectedDate 00:00:00.00").time) / (1000 * 3600)) // Mon Apr 12 00:00:00 GMT+00:00 2021



```

# SimpleDateFormat

https://developer.android.com/reference/kotlin/java/text/SimpleDateFormat
